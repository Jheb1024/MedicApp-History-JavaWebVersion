<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Gestion Pacientes</title>
    </h:head>
    <h:body>
        Bienvenido a MedicApp - History
        <br /> <br /> <br />
        <p:fieldset legend=" Agregar un nuevo paciente">
            <br />
            <p:panelGrid columns="1">
                <form id = "formulario" action="ControladorAgregarPaciente">
                    Nombre(s): <br/>
                    <input type="text" name="nombre" required="true"> </input>
                   <br/> <br/>
                   Apellido paterno: <br/>
                   <input type="text" name="app" required="true"> </input>
                   <br/> <br/>
                   Apellido materno: <br/>
                   <input type="text" name="apm" required="true"> </input>
                   <br/> <br/>
                   Altura: <br/>
                   <input type="number" name="altura" required="true"> </input>
                   <br/> <br/>
                   Edad: <br/>
                   <input type="number" name="edad" required="true"> </input>
                   <br/> <br/>
                   Fecha de nacimiento: <br/>
                   <input type="date" name="fecha" required="true"> </input>
                   <br/> <br/>
                   Peso: <br/>
                   <input type="number" name="peso" required="true"> </input>
                   <br/> <br/>
                   No. seguro social: <br/>
                   <input type="text" name="no_seguro" required="true"> </input>
                   <br/> <br/>
                   <input type="submit" name="accion" value="Guardar" id = "enviar"  href="javascript:;" onclick="realizaProceso($('#nombre').val(), $('#app').val(), $('#apm').val(), $('#altura').val(), $('#edad').val(), $('#fecha').val(), $('#peso').val(), $('#no_seguro').val());return false;"/>
                </form>
              
                <p:column/>
                
            </p:panelGrid>
            
          <div>
    <br/> <span id="resultado"></span>
     </div>
            
        </p:fieldset>
        <script src="../src/java/ajax/jquery.js" type="text/javascript"></script>
        <script src="component/jquery/jquery.js" type="text/javascript"></script>
        <script src="component/jquery/jquery.min.js" type="text/javascript"></script>
        <script src="component/jquery.validate.min.js" type="text/javascript"></script>
        <script src="../src/java/ajax/ajax.js" type="text/javascript"></script>
        
        <script>
            
        /* 
	$(document).ready(function() {
		$('#enviar').click(function(event) {
			var nombreVar = $('#nombre').val();
			var apellidoVar = $('#app').val();
                        var apellidomVar = $('#apm').val();
                        var altVar = $('#altura').val();
			var edadVar = $('#edad').val();
                        var fechaVar = $('#fecha').val();
                        var pesoVar = $('#peso').val();
                        var seguroVar = $('#no_seguro').val();
			// Si en vez de por post lo queremos hacer por get, cambiamos el $.post por $.get
			$.post('ActionServlet', {
				nombre : nombreVar,
				app: apellidoVar,
                                apm: apellidomVar,
                                altura: altVar,
				edad: edadVar,
                                fecha: fechaVar,
                                peso: pesoVar,
                                no_seguro: seguroVar
			}, function(responseText) {
				$('#tabla').html(responseText);
			});
		});
	});
*/
        
       var isnew = true;
        
        function validar()
        {
            if($("#formulario").valid())
            {
                var url = "";
                var data ="";
                var method="";
                
                if(isnew == true)
                {
                    url = "controlador/ControladorAgregarPaciente";
                    data = $("formulario").serialize();
                    method = 'POST';
                    
                 
                }
                
                $.ajax ({
                    
                    type: method,
                    url: url,
                    data: data
                    success:function(){
				alert( "Contacto salvado: " );
            });
                        
                        
                }
  
                
            }
        }
        
        
        
        </script>
        
    </h:body>
</html>

